(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{2167:function(e,t,n){"use strict";var r=n(3038);t.default=void 0;var a,o=(a=n(7294))&&a.__esModule?a:{default:a},i=n(1063),s=n(4651),c=n(7426);var l={};function u(e,t,n,r){if(e&&i.isLocalURL(t)){e.prefetch(t,n,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;l[t+"%"+n+(a?"%"+a:"")]=!0}}var f=function(e){var t,n=!1!==e.prefetch,a=s.useRouter(),f=o.default.useMemo((function(){var t=i.resolveHref(a,e.href,!0),n=r(t,2),o=n[0],s=n[1];return{href:o,as:e.as?i.resolveHref(a,e.as):s||o}}),[a,e.href,e.as]),d=f.href,p=f.as,g=e.children,v=e.replace,m=e.shallow,h=e.scroll,_=e.locale;"string"===typeof g&&(g=o.default.createElement("a",null,g));var y=(t=o.default.Children.only(g))&&"object"===typeof t&&t.ref,b=c.useIntersection({rootMargin:"200px"}),x=r(b,2),L=x[0],j=x[1],w=o.default.useCallback((function(e){L(e),y&&("function"===typeof y?y(e):"object"===typeof y&&(y.current=e))}),[y,L]);o.default.useEffect((function(){var e=j&&n&&i.isLocalURL(d),t="undefined"!==typeof _?_:a&&a.locale,r=l[d+"%"+p+(t?"%"+t:"")];e&&!r&&u(a,d,p,{locale:t})}),[p,d,j,_,n,a]);var P={ref:w,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,o,s,c){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(n))&&(e.preventDefault(),null==s&&r.indexOf("#")>=0&&(s=!1),t[a?"replace":"push"](n,r,{shallow:o,locale:c,scroll:s}))}(e,a,d,p,v,m,h,_)},onMouseEnter:function(e){i.isLocalURL(d)&&(t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),u(a,d,p,{priority:!0}))}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var E="undefined"!==typeof _?_:a&&a.locale,O=a&&a.isLocaleDomain&&i.getDomainLocale(p,E,a&&a.locales,a&&a.domainLocales);P.href=O||i.addBasePath(i.addLocale(p,E,a&&a.defaultLocale))}return o.default.cloneElement(t,P)};t.default=f},7426:function(e,t,n){"use strict";var r=n(3038);Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!i,c=a.useRef(),l=a.useState(!1),u=r(l,2),f=u[0],d=u[1],p=a.useCallback((function(e){c.current&&(c.current(),c.current=void 0),n||f||e&&e.tagName&&(c.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=s.get(t);if(n)return n;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return s.set(t,n={id:t,observer:a,elements:r}),n}(n),a=r.id,o=r.observer,i=r.elements;return i.set(e,t),o.observe(e),function(){i.delete(e),o.unobserve(e),0===i.size&&(o.disconnect(),s.delete(a))}}(e,(function(e){return e&&d(e)}),{rootMargin:t}))}),[n,t,f]);return a.useEffect((function(){if(!i&&!f){var e=o.requestIdleCallback((function(){return d(!0)}));return function(){return o.cancelIdleCallback(e)}}}),[f]),[p,f]};var a=n(7294),o=n(3447),i="undefined"!==typeof IntersectionObserver;var s=new Map},28:function(e,t,n){"use strict";n.r(t);var r=n(5861),a=n(4942),o=n(7757),i=n.n(o),s=n(1664),c=n(7294),l=n(2861),u=n(3686),f=n(5538),d=n(2669),p=n(7954),g=n(609),v=n(7975),m=n(7075),h=n.n(m),_=n(9594),y=n(6706),b=n(6968),x=n(5893);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={setLoggedIn:_.SL};t.default=(0,y.$j)(null,w)((function(e){var t=e.setLoggedIn,n=(0,c.useState)(!0),a=n[0],o=n[1],m=(0,c.useState)(""),_=m[0],y=m[1],L=(0,c.useState)(!1),w=L[0],P=L[1],E=(0,c.useState)({email:"",password:""}),O=E[0],k=E[1];function C(e){console.log(e),k(j(j({},O),e))}var I=function(){var e=(0,r.Z)(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),P(!0),e.prev=2,e.next=5,l.Z.post("".concat("https://chapter11team2.cyclic.app","/login"),{email:O.email,password:O.password});case 5:r=e.sent,console.log(r.data.email),console.log(r.data.token),localStorage.setItem("token",r.data.token),localStorage.setItem("email",r.data.email),t(!0,{email:r.data.email}),window.location.replace("/gamelist"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),y(e.t0.response.data.message),o(!1);case 18:return e.prev=18,P(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,14,18,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:h().HomePageImage,children:[(0,x.jsx)("h2",{className:h().textH2,children:"LOGIN"}),(0,x.jsx)("div",{className:h().alertContainer,children:(0,x.jsx)(u.Z,{color:"danger",hidden:a,children:_})}),(0,x.jsxs)("div",{className:h().loginContainer,children:[(0,x.jsxs)(f.Z,{children:[(0,x.jsxs)(d.Z,{id:"formBasicEmail",children:[(0,x.jsx)(p.Z,{className:h().textLabel,children:"Email"}),(0,x.jsx)(g.Z,{className:h().input,type:"email",value:O.email,onChange:function(e){return C({email:e.target.value})}})]}),(0,x.jsxs)(d.Z,{id:"formBasicPassword",children:[(0,x.jsx)(p.Z,{className:h().textLabel,children:"Password"}),(0,x.jsx)(g.Z,{className:h().input,type:"password",value:O.password,onChange:function(e){return C({password:e.target.value})}})]}),(0,x.jsx)("br",{}),(0,x.jsx)(v.Z,{color:"primary",onClick:I,style:{width:"100%"},disabled:w,children:w?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b.Z,{animation:"border",size:"sm",className:"mr-2"}),"Processing"]}):"Login"})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("p",{className:h().textDescription,children:["Belum mempunyai akun? ",(0,x.jsx)(s.default,{href:"/register",children:(0,x.jsx)("a",{className:h().linkText,children:"daftar"})})," disini"]})]})]})}))},9594:function(e,t,n){"use strict";n.d(t,{vV:function(){return r},SL:function(){return a},Xr:function(){return o}});n(7757);function r(e){return{type:"SET_EMAIL",payload:e}}var a=function(e,t){return{type:"SET_LOGGED_IN",payload:{isLoggedIn:e,user:t}}},o=function(e){return{type:"SET_PLAYED_GAMES",payload:e}}},4917:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(28)}])},7075:function(e){e.exports={HomePageImage:"LoginPage_HomePageImage__3Cc0t",loginContainer:"LoginPage_loginContainer__2iBoS",alertContainer:"LoginPage_alertContainer__V19ve",textH2:"LoginPage_textH2__2to_L",formGroup:"LoginPage_formGroup__9IZYM",textLabel:"LoginPage_textLabel__3uz_6",textDescription:"LoginPage_textDescription__1icQH",linkText:"LoginPage_linkText__2hvdI",input:"LoginPage_input__2C77b",buttonStyle:"LoginPage_buttonStyle__11GBX"}},1664:function(e,t,n){e.exports=n(2167)}},function(e){e.O(0,[774,573,317,806,888,179],(function(){return t=4917,e(e.s=t);var t}));var t=e.O();_N_E=t}]);