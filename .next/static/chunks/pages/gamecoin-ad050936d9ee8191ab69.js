(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{412:function(e,n,t){"use strict";t.r(n);var o=t(5861),i=t(4942),a=t(7757),s=t.n(a),r=t(7294),c=t(2861),l=t(7975),u=t(1803),d=t.n(u),p=t(9594),f=t(6706),g=t(5893);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default=function(){var e=(0,r.useState)(""),n=(e[0],e[1]),t=(0,r.useState)(""),i=t[0],a=t[1],u=(0,r.useState)(0),b=u[0],h=u[1],m=(0,r.useState)(null),v=m[0],j=m[1],y=(0,r.useState)(null),C=y[0],k=y[1],x=(0,r.useState)(!1),S=x[0],O=x[1],w=(0,r.useState)(!1),N=w[0],E=w[1],Z=(0,r.useState)(!1),P=Z[0],T=Z[1],D=(0,r.useState)(!1),I=D[0],M=D[1],A=(0,f.I0)(),G=(0,f.v9)((function(e){return e.reducer.playedGames})),L=function(e){j(e)};(0,r.useEffect)((function(){!S&&C&&v&&(("heads"===C&&"heads"===v||"tails"===C&&"tails"===v)&&h((function(e){return e+1})),E(!0))}),[S,C,v]);var z=function(){var e=(0,o.Z)(s().mark((function e(){var t,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),o=localStorage.getItem("email"),console.log(t),console.log(o),e.prev=4,t){e.next=10;break}console.log("Not Authorize !"),window.location.replace("login"),e.next=17;break;case 10:return e.next=12,c.Z.post("".concat("https://chapter11team2.cyclic.app","/usergame/get"),{email:o},{headers:{Authorization:"Basic ".concat(t)}});case 12:i=e.sent,console.log(i.data.data),n(i.data.data.id),a(i.data.data.username),h(i.data.data.scores);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),console.log("Internal Server Error !"),window.location.replace("login");case 23:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){z()}),[]),(0,g.jsxs)("div",{className:"",children:[(0,g.jsx)("div",{children:(0,g.jsx)(l.Z,{color:"primary",onClick:function(){window.location.replace("gamelist")},children:"Kembali"})}),(0,g.jsxs)("div",{className:d().container,children:[(0,g.jsxs)("div",{className:"".concat(d().coin," ").concat(S?d().flipping:""),onAnimationEnd:function(){return O(!1)},children:[(0,g.jsx)("div",{className:"".concat(d().heads," ").concat("heads"===C&&P?d().show:""),children:(0,g.jsx)("img",{src:"/images/coin.jpg",alt:"Heads",onLoad:function(){T(!0)}})}),(0,g.jsx)("div",{className:"".concat(d().tails," ").concat("tails"===C&&I?d().show:""),children:(0,g.jsx)("img",{src:"/images/coin2.jpg",alt:"Tails",onLoad:function(){M(!0)}})})]}),(0,g.jsxs)("div",{className:d().stats,children:[(0,g.jsxs)("p",{children:["Player: ",i]}),(0,g.jsxs)("p",{children:["Scores: ",b]})]}),(0,g.jsxs)("div",{className:d().buttons,children:[(0,g.jsx)(l.Z,{className:d().guessButton,onClick:function(){return L("heads")},disabled:S||C,children:"Heads"}),(0,g.jsx)(l.Z,{className:d().guessButton,onClick:function(){return L("tails")},disabled:S||C,children:"Tails"}),(0,g.jsx)(l.Z,{onClick:function(){if(v){if(!S){O(!0);var e=Math.random()<.5?"heads":"tails";k(e),A((0,p.Xr)(_(_({},G),{},{"/gamecoin":!0}))),localStorage.setItem("playedGames",JSON.stringify(_(_({},G),{},{"/gamecoin":!0}))),console.log("Played Games:",G)}}else alert("Please make a guess before flipping the coin.")},disabled:!v||S,children:"Flip Coin"})]}),N&&(0,g.jsxs)("div",{className:"result-popup",children:[(0,g.jsxs)("p",{children:["Kamu menebak ",v,"!"]}),(0,g.jsxs)("p",{children:["Hasilnya adalah ",C]}),(0,g.jsxs)("p",{children:["Scoremu : ",b]}),(0,g.jsx)(l.Z,{onClick:function(){j(null),k(null),E(!1)},children:"Tebak lagi"})]})]})]})}},9594:function(e,n,t){"use strict";t.d(n,{vV:function(){return o},SL:function(){return i},Xr:function(){return a}});t(7757);function o(e){return{type:"SET_EMAIL",payload:e}}var i=function(e,n){return{type:"SET_LOGGED_IN",payload:{isLoggedIn:e,user:n}}},a=function(e){return{type:"SET_PLAYED_GAMES",payload:e}}},855:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gamecoin",function(){return t(412)}])},1803:function(e){e.exports={body:"gameCoin_body__1JsR5",container:"gameCoin_container__pMpcS",stats:"gameCoin_stats__kCQFK",coin:"gameCoin_coin__348FD",heads:"gameCoin_heads__3MsS4",tails:"gameCoin_tails__2enI-",buttons:"gameCoin_buttons__30h4G",button:"gameCoin_button__jViyH","flip-button":"gameCoin_flip-button__1jWsA","reset-button":"gameCoin_reset-button__348Ke",guessButton:"gameCoin_guessButton__3RuKS","guess-button":"gameCoin_guess-button__3TDvp",flipping:"gameCoin_flipping__3nPos","flip-heads":"gameCoin_flip-heads__3ZsbC","flip-tails":"gameCoin_flip-tails__3Zq04","spin-tails":"gameCoin_spin-tails__SJWNt","spin-heads":"gameCoin_spin-heads__1gz8l"}},7975:function(e,n,t){"use strict";var o=t(7462),i=t(3366),a=t(7326),s=t(4578),r=t(7294),c=t(5697),l=t.n(c),u=t(4184),d=t.n(u),p=t(3663),f=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"],g={active:l().bool,"aria-label":l().string,block:l().bool,color:l().string,disabled:l().bool,outline:l().bool,tag:p.iC,innerRef:l().oneOfType([l().object,l().func,l().string]),onClick:l().func,size:l().string,children:l().node,className:l().string,cssModule:l().object,close:l().bool},b=function(e){function n(n){var t;return(t=e.call(this,n)||this).onClick=t.onClick.bind((0,a.Z)(t)),t}(0,s.Z)(n,e);var t=n.prototype;return t.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},t.render=function(){var e=this.props,n=e.active,t=e["aria-label"],a=e.block,s=e.className,c=e.close,l=e.cssModule,u=e.color,g=e.outline,b=e.size,_=e.tag,h=e.innerRef,m=(0,i.Z)(e,f);c&&"undefined"===typeof m.children&&(m.children=r.createElement("span",{"aria-hidden":!0},"\xd7"));var v="btn"+(g?"-outline":"")+"-"+u,j=(0,p.mx)(d()(s,{close:c},c||"btn",c||v,!!b&&"btn-"+b,!!a&&"btn-block",{active:n,disabled:this.props.disabled}),l);m.href&&"button"===_&&(_="a");var y=c?"Close":null;return r.createElement(_,(0,o.Z)({type:"button"===_&&m.onClick?"button":void 0},m,{className:j,ref:h,onClick:this.onClick,"aria-label":t||y}))},n}(r.Component);b.propTypes=g,b.defaultProps={color:"secondary",tag:"button"},n.Z=b},7326:function(e,n,t){"use strict";function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return o}})},4578:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var o=t(9611);function i(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,(0,o.Z)(e,n)}},9611:function(e,n,t){"use strict";function o(e,n){return(o=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t.d(n,{Z:function(){return o}})}},function(e){e.O(0,[774,573,888,179],(function(){return n=855,e(e.s=n);var n}));var n=e.O();_N_E=n}]);